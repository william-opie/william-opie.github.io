# AGENTS.md

## Purpose
This repository is a Jekyll-based personal site with Markdown and HTML posts,
Liquid templates, and Sass styles. Use these notes when making changes so
agents follow existing conventions and run the right checks.

## Quick Context
- Static site built with the Jekyll and the `minima` theme.
- Source content lives in `_posts/`, `_layouts/`, `_includes/`, and `assets/`.
- Generated output is in `_site/` and should never be edited manually.
- Node is only used for the `simple-jekyll-search` dependency.

## Build / Serve / Test
### Prerequisites
- Ruby + Bundler (see `Gemfile`/`Gemfile.lock`).
- Node (only if updating `package.json` dependencies).

### Install
- `bundle install`
- `npm install` (only if JS deps change)

### Build
- `bundle exec jekyll build`
  - Outputs to `_site/`.

### Local Server
- `bundle exec jekyll serve`
  - Serve locally at `http://localhost:4000`.

### Lint
- No lint configuration is present.
- If adding linting, document commands here.

### Tests
- No test runner is configured.
- There is no single-test command today.
- If you add tests, also add a single-test command and update this file.

## Repository Structure
- `_posts/`: Blog posts (Markdown or HTML with front matter).
- `_layouts/`: Site-wide layout templates.
- `_includes/`: Partial templates and shared HTML/Liquid.
- `assets/`: Sass and static assets.
- `public/admin/`: Static admin page (do not convert to build output).
- `_site/`: Generated build output (do not edit).

## Code Style Guidelines
### General
- Keep changes minimal and consistent with existing code.
- Prefer 2-space indentation for HTML, Liquid, YAML, Sass, and JS.
- Do not reformat unrelated content.
- Avoid adding new tooling unless requested.

### Liquid + HTML
- Use 2 spaces for indentation.
- Use double quotes for HTML attributes.
- Keep Liquid tags spaced: `{{ variable | filter }}`.
- Prefer whitespace-trimming tags where already used: `{%- ... -%}`.
- Keep includes concise: `{%- include file.html -%}`.
- Use semantic HTML; avoid div-only structures when possible.

### Markdown Posts (`_posts/*.md`)
- Filenames: `YYYY-MM-DD-title.md` in kebab-case.
- Required front matter:
  - `---` delimiter top and bottom.
  - Include `title`, `date`, `published`, and `author` where relevant.
- Insert a blank line after front matter.
- Use standard Markdown; only use raw HTML when needed.
- Keep paragraphs wrapped at a readable width when possible.

### HTML Posts (`_posts/*.html`)
- Keep front matter intact; do not strip existing metadata.
- Preserve existing WordPress block comments unless removing on purpose.
- Maintain existing tag indentation and line breaks.
- Avoid introducing inline styles in post content.

### Sass / CSS
- `assets/css/style.scss` uses Jekyll front matter and `@import`.
- Keep front matter (`---`) at the top.
- Use double quotes for imports.
- Prefer variables from `minima` where possible.
- Keep selectors in kebab-case (e.g., `.search-container`).

### JavaScript
- JS is only used inline on `search.html`.
- Keep scripts short and dependency-free.
- Prefer `const`/`let` for new code, but preserve existing style if editing.
- Guard DOM lookups if adding new behavior.

### YAML (`_config.yml` and front matter)
- Use 2 spaces for indentation.
- Keep keys sorted within a section only when editing that section.
- Use double quotes for strings with `:` or `{}` characters.

### Naming Conventions
- Posts, pages, and includes: kebab-case filenames.
- Liquid variables: lower_snake or lowerCamel based on existing usage.
- CSS classes/IDs: kebab-case.

### Error Handling
- Prefer Liquid defaults (`| default`) when rendering optional data.
- Avoid template errors by guarding missing config keys.
- In JS, exit early if required DOM nodes are absent.

## Editing Guidance
- Do not edit files in `_site/` or `node_modules/`.
- For site-wide changes, update `_layouts/` and `_includes/`.
- For new posts, add a file in `_posts/` with correct front matter.
- If updating the theme, confirm `remote_theme` and `minima` settings.

## Search
- `search.json` is generated by Jekyll; do not hand-edit.
- The search UI lives in `search.html`.

## Dependencies
- Ruby gems are declared in `Gemfile`.
- JS dependencies are listed in `package.json` (no scripts defined).

## Cursor / Copilot Rules
- No `.cursorrules`, `.cursor/rules/`, or `.github/copilot-instructions.md`
  files were found in this repository.

## When Adding New Tooling
- Document new commands in this file.
- Keep tooling lightweight and aligned with Jekyll workflows.
- Avoid introducing complex build steps without a clear need.

## Release / Deployment Notes
- GitHub Pages builds the site from source.
- The build artifact is `_site/` and should not be committed unless the
  workflow explicitly expects it (currently none noted).

## Optional Local Checks
- Run `bundle exec jekyll build` after major template changes.
- Run `bundle exec jekyll serve` to verify page rendering.

## Contact Points
- If unsure about site metadata, check `_config.yml`.
- For social links, check the `minima.social_links` section.